interactions:
- request:
    body: '{"query": "query ($confName: String, $sourceId: uuid!, $fetchSource: Boolean!,
      $projId: uuid!, $userId: String!, $type_slug: String!) {\n  test_source(where:
      {id: {_eq: $sourceId}, project: {userProjects: {user_id: {_eq: $userId}}, is_deleted:
      {_eq: false}}}) @include(if: $fetchSource) {\n    source_type\n    project {\n      userProjects
      {\n        user_id\n      }\n    }\n    repository {\n      name\n      url\n      configuration_type
      {\n        slug_name\n      }\n      project {\n        userProjects {\n          user_id\n        }\n      }\n    }\n    test_creator
      {\n      name\n      data\n      min_wait\n      max_wait\n      project {\n        userProjects
      {\n          user_id\n        }\n      }\n    }\n  }\n  parameter(where: {configuration_type:
      {slug_name: {_eq: $type_slug}}}) {\n    slug_name\n    default_value\n    param_name\n    name\n  }\n  user_project(where:
      {user_id: {_eq: $userId}, project_id: {_eq: $projId}}) {\n    id\n  }\n  project_by_pk(id:
      $projId) {\n    id\n  }\n  configuration(where: {is_deleted: {_eq: false}, name:
      {_eq: $confName}, project_id: {_eq: $projId}, project: {userProjects: {user_id:
      {_eq: $userId}}, is_deleted: {_eq: false}}}) {\n    id\n  }\n}\n", "variables":
      {"type_slug": "load_tests", "confName": "test config 12345", "projId": "daf50e01-4037-4587-8305-2523dad5ebfd",
      "userId": "7f1aab7a-e941-46a2-b63a-5b28b80ad384", "sourceId": "daf50e01-4037-4587-8305-2523dad5ebfd",
      "fetchSource": true}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Connection:
      - keep-alive
      Content-Length:
      - '1458'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.27.1
      X-Hasura-Access-Key:
      - devaccess
      X-Hasura-Role:
      - admin
      X-Hasura-User-Id:
      - 7f1aab7a-e941-46a2-b63a-5b28b80ad384
    method: POST
    uri: http://localhost:8080/v1alpha1/graphql
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEA61Uy46bMBT9FeRVK40TXh4gqy677L6KLBsbhgYw8qOjKMq/9xrI0CQMUqXuwPY9
        555zHxckmGXocEFWGkuNcrqU6PDzgqZPas8D/CMtB2Uaq/QZvaBBq1+ytD7KGal/TL9mDPMHtBEQ
        klURYzxjWBZphNNXFmP+mjBMeJzzPGQiyVN0PV5f/gYHyJ51ntENkJkUwR2z0y1c1Y391qnyxBvL
        XXmSdqd0ffAP9/Zd7eAakixVXzW108w2qp9lgKrW1XRmaBUT1Ms2CJL4v6IAcDS01JKBa+jQu7a9
        HoGGadBnJRx5k1fToWJOG2QIWTHXWvqbtc7bEoW+AB7kJgN7tbOkW2DwxXwFUcGnDBA/uGEFn4TP
        BHoh8OU1eyPBXbFJMD5cwY/CFQL3QPCM3Kned1/T1/9oTicW7AUkuBm1ydT0UCcwfkUGgbP7KnTN
        KtEHxlY13pTxRXys9RPH94ViDNnCrJpWTi3yDLx0/m4YB/qun6qFxYMEY29tUS0jSrlmffm2oqVj
        xjf9o2t84VpQghlli3PsLzrAsnlX+jQiP9q31mr9ni2MUzPP8X44/QH9WAQwn+MiE0JUZZGlOCEF
        LLI8l7ggSYLjlLO0yJMoigksMpA2LULKz3Q4+e04hbOKhDKEyDDJcEryDOdJSHBM4kQwQSSv/Cjd
        LyzYDsfr9Q9kri+RngUAAA==
    headers:
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 10 Nov 2022 15:39:10 GMT
      Server:
      - Warp/3.3.19
      Transfer-Encoding:
      - chunked
      x-request-id:
      - c8837fcc-daf5-4b56-95de-5ff3b0675bda
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "mutation ($data: [configuration_insert_input!]!) {\n  insert_configuration(objects:
      $data) {\n    returning {\n      id\n      name\n      type_slug\n      description\n      project_id\n      test_source_id\n      has_pre_test\n      has_post_test\n      has_load_tests\n      has_monitoring\n      configuration_parameters
      {\n        parameter_slug\n        value\n      }\n      configuration_envvars
      {\n        name\n        value\n      }\n      configuration_monitorings {\n        query\n        chart_type\n      }\n    }\n  }\n}\n",
      "variables": {"data": {"name": "test config 12345", "project_id": "daf50e01-4037-4587-8305-2523dad5ebfd",
      "has_pre_test": false, "has_post_test": false, "has_load_tests": true, "has_monitoring":
      false, "monitoring_chart_configuration": {"charts": [{"x_format": "number",
      "node_name": "global_throughput", "x_data_key": "timestamp", "y_format": "number",
      "y_label": "name", "title": "Global throughput (events/s)", "type": "line",
      "y_data_key": "value"}, {"x_format": "number", "node_name": "nodes", "x_data_key":
      "timestamp", "y_format": "number", "y_label": "name", "title": "Nodes messages/second",
      "type": "line", "y_data_key": "value"}, {"x_format": "number", "node_name":
      "lag", "x_data_key": "timestamp", "y_format": "number", "y_label": "name", "title":
      "Kafka consumer lag", "type": "line", "y_data_key": "value"}, {"x_format": "number",
      "node_name": "kafka_messages", "x_data_key": "timestamp", "y_format": "number",
      "y_label": "name", "title": "Kafka messages count", "type": "line", "y_data_key":
      "value"}, {"x_format": "number", "node_name": "global_cpu", "x_data_key": "timestamp",
      "y_format": "percent", "y_label": "name", "title": "CPU usage (Apps + Server)
      (Striim)", "type": "line", "y_data_key": "value"}, {"x_format": "number", "node_name":
      "vm_cpu", "x_data_key": "timestamp", "y_format": "percent", "y_label": "name",
      "title": "CPU Usage (Prometheus)", "type": "line", "y_data_key": "value"}, {"x_format":
      "number", "node_name": "vm_ram", "x_data_key": "timestamp", "y_format": "percent",
      "y_label": "name", "title": "Memory usage (Prometheus)", "type": "line", "y_data_key":
      "value"}, {"x_format": "number", "node_name": "global_memory", "x_data_key":
      "timestamp", "y_format": "bytes", "y_label": "name", "title": "Memory usage
      (Striim)", "type": "line", "y_data_key": "value"}, {"x_format": "number", "node_name":
      "global_disc_data", "x_data_key": "timestamp", "y_format": "bytes", "y_label":
      "name", "title": "Disc space (Striim)", "type": "line", "y_data_key": "value"},
      {"x_format": "number", "node_name": "vm_disc_usage", "x_data_key": "timestamp",
      "y_format": "percent", "y_label": "name", "title": "Disc usage (Prometheus)",
      "type": "line", "y_data_key": "value"}, {"x_format": "number", "node_name":
      "vm_disc", "x_data_key": "timestamp", "y_format": "bytes", "y_label": "name",
      "title": "Disc space (Prometheus)", "type": "line", "y_data_key": "value"},
      {"x_format": "number", "node_name": "vm_io", "x_data_key": "timestamp", "y_format":
      "bytes", "y_label": "name", "title": "I/O (Prometheus)", "type": "line", "y_data_key":
      "value"}, {"x_format": "number", "node_name": "apps_source_input", "x_data_key":
      "timestamp", "y_format": "number", "y_label": "app_name", "title": "Source input
      per App", "type": "line", "y_data_key": "source_input"}, {"x_format": "number",
      "node_name": "apps_threads", "x_data_key": "timestamp", "y_format": "number",
      "y_label": "app_name", "title": "CPU thread per app", "type": "line", "y_data_key":
      "threads_num"}, {"x_format": "number", "node_name": "apps_cpu", "x_data_key":
      "timestamp", "y_format": "percent", "y_label": "app_name", "title": "CPU usage
      per App (Striim)", "type": "line", "y_data_key": "cpu"}, {"x_format": "number",
      "node_name": "apps_wactions", "x_data_key": "timestamp", "y_format": "number",
      "y_label": "app_name", "title": "WebActions per App (Striim)", "type": "line",
      "y_data_key": "wactions_created"}, {"x_format": "number", "node_name": "number_of_apps",
      "x_data_key": "timestamp", "y_format": "number", "y_label": "name", "title":
      "Number of running apps", "type": "line", "y_data_key": "value"}, {"x_format":
      "number", "node_name": "apps_latency", "x_data_key": "timestamp", "y_format":
      "number", "y_label": "app_component", "title": "Latency per App (ms)", "type":
      "line", "y_data_key": "latency"}, {"x_format": "number", "node_name": "apps_backpressed",
      "x_data_key": "timestamp", "y_format": "bool", "y_label": "app_name", "title":
      "Backpressured per App", "type": "heatmap", "y_data_key": "backpressured"},
      {"x_format": "number", "node_name": "elastic_search_docs", "x_data_key": "timestamp",
      "y_format": "number", "y_label": "name", "title": "Number of Elastic Search
      Docs", "type": "line", "y_data_key": "value"}, {"x_format": "bytes", "node_name":
      "elastic_search_size", "x_data_key": "timestamp", "y_format": "number", "y_label":
      "name", "title": "Elastic Search Size", "type": "line", "y_data_key": "value"}]},
      "created_by_id": "7f1aab7a-e941-46a2-b63a-5b28b80ad384", "type_slug": "load_tests",
      "configuration_envvars": {"data": [{"name": "testvar", "value": "testvarvalue"}]},
      "configuration_parameters": {"data": [{"parameter_slug": "load_tests_host",
      "value": "https://test-target.dev.bolt.acaisoft.io"}, {"parameter_slug": "load_tests_duration",
      "value": "30"}, {"parameter_slug": "load_tests_rampup", "value": "500"}, {"parameter_slug":
      "load_tests_users", "value": "1000"}, {"parameter_slug": "load_tests_file_name",
      "value": "load_tests.py"}, {"parameter_slug": "load_tests_repository_branch",
      "value": "master"}, {"parameter_slug": "load_tests_users_per_worker", "value":
      "1000"}]}, "instances": 1, "test_source_id": "daf50e01-4037-4587-8305-2523dad5ebfd"}}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Connection:
      - keep-alive
      Content-Length:
      - '5718'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.27.1
      X-Hasura-Access-Key:
      - devaccess
      X-Hasura-Role:
      - admin
      X-Hasura-User-Id:
      - 7f1aab7a-e941-46a2-b63a-5b28b80ad384
    method: POST
    uri: http://localhost:8080/v1alpha1/graphql
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEA5VT7Y6bMBB8FeTfmIMQl5RXqSJrwevELbEtf6SKTrx7bXIpRCf10p/s7oxnZ5Z3
        IiAA6d+J0h5d4KPRUp2ig6CMznWHITqt9IkUffEjzQnSk2+sZTB0He0Oo6T776ylA4iOMmyaEeEg
        B9mQkmi4YJoO6ENxJy6aXbtnqRVuFrmf4in1JwOC5yGfGgL96JS9P6/jNJXEOvMTx8CXpwVIVmPd
        0H3ddnTPDh09tDWjO7ZrBQiGgxSZP9Fxb6Ib8b9wZ/DcOlzkkF7C5LEkS9Ekwsz6VN1I74OLH7MX
        o1UwLpv2oHjylVtwyZqAzpM+efr387Mj/JzeTftcYYrZy3MI1vdvb1kJDeBOGCqB12owU6hgBOWN
        DJUyZC6LfxOLR8greVt/DUvCbbQbRax+ARXTceV0H2s09SsoqSbkyxGtyNXxyt5ekIvW+BzGjQ8O
        9HjeiLiATxF8zbGI5xYd/23cr4RY1dz3OJbkOV/U1yt8hLv5CVJtg80RpsrdkvkTx3pE+UiO83Ge
        5z9XTUnJrwMAAA==
    headers:
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 10 Nov 2022 15:39:10 GMT
      Server:
      - Warp/3.3.19
      Transfer-Encoding:
      - chunked
      x-request-id:
      - d949d064-12fe-4f39-bf89-bbac064de9a1
    status:
      code: 200
      message: OK
version: 1
