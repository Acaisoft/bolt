interactions:
- request:
    body: '{"query": "query ($projId: uuid!, $repoName: String!, $repoUrl: String!,
      $userId: String!, $confType: String!) {\n  project(where: {id: {_eq: $projId},
      is_deleted: {_eq: false}, userProjects: {user_id: {_eq: $userId}}}) {\n    id\n  }\n  configuration_type(where:
      {slug_name: {_eq: $confType}}, limit: 1) {\n    id\n  }\n  uniqueName: repository(where:
      {project_id: {_eq: $projId}, is_deleted: {_eq: false}, name: {_eq: $repoName}})
      {\n    id\n  }\n  uniqueUrl: repository(where: {project_id: {_eq: $projId},
      is_deleted: {_eq: false}, url: {_eq: $repoUrl}}) {\n    id\n  }\n}\n", "variables":
      {"userId": "7f1aab7a-e941-46a2-b63a-5b28b80ad384", "repoName": "test repository
      1", "repoUrl": "git@mockbitbucket.org:repo/one.git", "projId": "daf50e01-4037-4587-8305-2523dad5ebfd",
      "confType": "load_tests"}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Connection:
      - keep-alive
      Content-Length:
      - '802'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.27.1
      X-Hasura-Access-Key:
      - devaccess
      X-Hasura-Role:
      - admin
      X-Hasura-User-Id:
      - 7f1aab7a-e941-46a2-b63a-5b28b80ad384
    method: POST
    uri: http://localhost:8080/v1alpha1/graphql
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEA0XMQQ6CMBCF4bvM2klK26GFQ7hzZYwpzNTUKCBpF4Zwd0EXLv+8vG8BDjlAu8A0
        j3fpM7TnBRJDuw2RlKgKrTIOLXmH3ihCTdpwYJIuMqyXA/TjENOtzCGncbjm9yR/REIVm9oQWh2b
        DYkaO+8E2VEtTL1nL1+kDOlV5Bie+3lDf32aH3uu6wenAKoiqAAAAA==
    headers:
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 10 Nov 2022 15:15:57 GMT
      Server:
      - Warp/3.3.19
      Transfer-Encoding:
      - chunked
      x-request-id:
      - 42be09e5-f1bd-4258-9d3e-1c73c48a6936
    status:
      code: 200
      message: OK
- request:
    body: '{"query": "mutation ($data: [repository_insert_input!]!, $test_source_params:
      test_source_insert_input!) {\n  insert_repository(objects: $data) {\n    returning
      {\n      id\n      name\n      repository_url: url\n      project_id\n      type_slug\n    }\n  }\n  insert_test_source(objects:
      [$test_source_params]) {\n    returning {\n      id\n    }\n  }\n}\n", "variables":
      {"data": {"name": "test repository 1", "url": "git@mockbitbucket.org:repo/one.git",
      "project_id": "daf50e01-4037-4587-8305-2523dad5ebfd", "type_slug": "load_tests",
      "created_by_id": "7f1aab7a-e941-46a2-b63a-5b28b80ad384", "id": "daf50e01-4037-4587-8305-2523dad5ebfd"},
      "test_source_params": {"id": "daf50e01-4037-4587-8305-2523dad5ebfd", "project_id":
      "daf50e01-4037-4587-8305-2523dad5ebfd", "source_type": "repository", "repository_id":
      "daf50e01-4037-4587-8305-2523dad5ebfd"}}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, br
      Connection:
      - keep-alive
      Content-Length:
      - '853'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.27.1
      X-Hasura-Access-Key:
      - devaccess
      X-Hasura-Role:
      - admin
      X-Hasura-User-Id:
      - 7f1aab7a-e941-46a2-b63a-5b28b80ad384
    method: POST
    uri: http://localhost:8080/v1alpha1/graphql
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEA6VPOw6DMAy9CspcKL+oFVPvUVVRIAalQIIcZ0CIu9cMFXPV0e/n9zZhNGnRbMK6
        AEgKYfHBksf1ABEoorNuEEmTPFlkRMOOXuaQF2mdV7e0lvdbeq9ymZayrIw2EtreiItwegZWEwRK
        ztSkYOo8VcSJRYOlx+y7sbXUxm4EyjwOzSG7egcZ0+xa0L+hI/VLCVoXUGGKAz+ZvDbqqBPE/tov
        38UHooKP2HHdfyZz6L5/ALuuexdRAQAA
    headers:
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 10 Nov 2022 15:15:57 GMT
      Server:
      - Warp/3.3.19
      Transfer-Encoding:
      - chunked
      x-request-id:
      - 3bc1bb88-0911-4bc0-90a9-264480270642
    status:
      code: 200
      message: OK
version: 1
